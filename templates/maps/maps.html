<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

<script>
    let locations = {{locations|safe}}
    var map = L.map('map').setView([-14.235004, -51.92528], 4);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);  

    for (var i = 0; i < locations.length; i++){
        var popup ="Usuário: " + locations[i]['user'] +"<br>"+ "Localização: " + locations[i]['location'] 
        + "<br>" + "Tweet ID: " + locations[i]['tweet_id'] + "<br>" + "Tweet Text: " + locations[i]['tweet_text'] 
        L.marker([locations[i]['latitude'], locations[i]['longitude']]).addTo(map)
            .bindPopup(popup)
            .openPopup();
    }
</script>
